
jQuery.shortcut=(function(){var defaultOptions={type:'keydown',propagate:false,disableInInput:false,target:document,keycode:false};var shiftNums={'`':'~','1':'!','2':'@','3':'#','4':'$','5':'%','6':'^','7':'&','8':'*','9':'(','0':')','-':'_','=':'+',';':':',"'":'"',',':'<','.':'>','/':'?','\\':'|'},specialKeys={27:'esc',9:'tab',32:'space',13:'enter',8:'backspace',145:'scroll',20:'capslock',144:'numlock',19:'pause',45:'insert',36:'home',46:'del',35:'end',33:'pageup',34:'pagedown',37:'left',38:'up',39:'right',40:'down',112:'f1',113:'f2',114:'f3',115:'f4',116:'f5',117:'f6',118:'f7',119:'f8',120:'f9',121:'f10',122:'f11',123:'f12'},modifierMapping={ctrl:'ctrl',control:'ctrl',shift:'shift',alt:'alt',option:'alt',meta:'meta'},bindings={};function triggeredInDisableTags(event,disableInInput){if(!disableInInput){return false;}
var disableTags='textarea input';var element=event.target||event.srcElement;if(element.nodeType===3){element=element.parentNode;}
return(disableTags.toLowerCase().indexOf(element.tagName.toLowerCase())>=0)?true:false;}
function matching(combination,options,e){var key,modifier,want={},keys=combination.split('+'),code=e.keyCode||e.which,character={188:',',190:'.'}[code]||String.fromCharCode(code).toLowerCase(),count=0;for(var i=0,len=keys.length;i<len;i++){key=keys[i];modifier=modifierMapping[key];if(modifier){want[modifier]=true;count++;}else if((key.length>=1&&specialKeys[code]===key)||(options.keycode===code)||(character===key&&!specialKeys[code])||(e.shiftKey&&shiftNums[character]===key)){count++;}}
return(keys.length===count&&!!want.shift===!!e.shiftKey&&!!want.ctrl===!!e.metaKey&&!!want.alt===!!e.altKey);}
function makeKeypressedFun(combination,callback,options){return function(e){e=e?e:window.event;if(triggeredInDisableTags(e,options.disableInInput)||!matching(combination,options,e)){return;}
callback(e);if(!options.propagate){e.stopPropagation&&e.stopPropagation();e.preventDefault&&e.preventDefault();e.cancelBubble=true;e.returnValue=false;}};}
return{add:function(combination,callback,options){options=options||{};for(var name in defaultOptions){if(!options.hasOwnProperty(name)){options[name]=defaultOptions[name];}}
var fn=makeKeypressedFun(combination,callback,options);bindings[combination.toLowerCase()]={'callback':fn,'target':options.target,'event':options.type};jQuery(options.target).bind(options.type,fn);return this;},remove:function(combination){var binding=bindings[combination.toLowerCase()];delete bindings[combination];if(binding){jQuery(binding.target).unbind(binding.event,binding.callback);}
return this;}};})();